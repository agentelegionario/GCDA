!function(){function a(){for(var d,e=arguments,f=e.length,g=e[f-3],h=e[f-2]||[],i=e[f-1],j=[],k=!0,l=0;l<h.length;l++)d=h[l],b.hasOwnProperty(d)?j.push(b[d]):(4!=f&&(c[d]=c[d]||[],c[d].push([0,g,h,i])),k=!1);if(k)for(b[g]=i.apply(this,j);c[g]&&(e=c[g].pop());)a.apply(this,e)}var b={},c={};a.amd={jQuery:!0},define=a}(),function(a,b){"use strict";function c(){d.READY||(d.event.determineEventTypes(),d.utils.each(d.gestures,function(a){d.detection.register(a)}),d.event.onTouch(d.DOCUMENT,d.EVENT_MOVE,d.detection.detect),d.event.onTouch(d.DOCUMENT,d.EVENT_END,d.detection.detect),d.READY=!0)}var d=function(a,b){return new d.Instance(a,b||{})};d.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.HAS_POINTEREVENTS=a.navigator.pointerEnabled||a.navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&a.navigator.userAgent.match(d.MOBILE_REGEX),d.EVENT_TYPES={},d.DIRECTION_DOWN="down",d.DIRECTION_LEFT="left",d.DIRECTION_UP="up",d.DIRECTION_RIGHT="right",d.POINTER_MOUSE="mouse",d.POINTER_TOUCH="touch",d.POINTER_PEN="pen",d.EVENT_START="start",d.EVENT_MOVE="move",d.EVENT_END="end",d.DOCUMENT=a.document,d.plugins=d.plugins||{},d.gestures=d.gestures||{},d.READY=!1,d.utils={extend:function(a,c,d){for(var e in c)a[e]!==b&&d||(a[e]=c[e]);return a},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[];return d.utils.each(a,function(a){b.push("undefined"!=typeof a.clientX?a.clientX:a.pageX),c.push("undefined"!=typeof a.clientY?a.clientY:a.pageY)}),{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),e=Math.abs(a.pageY-b.pageY);return c>=e?a.pageX-b.pageX>0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT:a.pageY-b.pageY>0?d.DIRECTION_UP:d.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==d.DIRECTION_UP||a==d.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){b&&a&&a.style&&(d.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(c){d.utils.each(b,function(b){c&&(b=c+b.substring(0,1).toUpperCase()+b.substring(1)),b in a.style&&(a.style[b]=b)})}),"none"==b.userSelect&&(a.onselectstart=function(){return!1}),"none"==b.userDrag&&(a.ondragstart=function(){return!1}))}},d.Instance=function(a,b){var e=this;return c(),this.element=a,this.enabled=!0,this.options=d.utils.extend(d.utils.extend({},d.defaults),b||{}),this.options.stop_browser_behavior&&d.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),d.event.onTouch(a,d.EVENT_START,function(a){e.enabled&&d.detection.startDetect(e,a)}),this},d.Instance.prototype={on:function(a,b){var c=a.split(" ");return d.utils.each(c,function(a){this.element.addEventListener(a,b,!1)},this),this},off:function(a,b){var c=a.split(" ");return d.utils.each(c,function(a){this.element.removeEventListener(a,b,!1)},this),this},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return d.utils.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var e=null,f=!1,g=!1;d.event={bindDom:function(a,b,c){var e=b.split(" ");d.utils.each(e,function(b){a.addEventListener(b,c,!1)})},onTouch:function(a,b,c){var h=this;this.bindDom(a,d.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!g){j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which?f=!0:j.match(/mouse/)&&!i.which&&(f=!1),j.match(/touch|pointer/)&&(g=!0);var k=0;f&&(d.HAS_POINTEREVENTS&&b!=d.EVENT_END?k=d.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:g||(k=j.match(/up/)?0:1),k>0&&b==d.EVENT_END?b=d.EVENT_MOVE:k||(b=d.EVENT_END),(k||null===e)&&(e=i),c.call(d.detection,h.collectEventData(a,b,h.getTouchList(e,b),i)),d.HAS_POINTEREVENTS&&b==d.EVENT_END&&(k=d.PointerEvent.updatePointer(b,i))),k||(e=null,f=!1,g=!1,d.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?d.PointerEvent.getEvents():d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],d.EVENT_TYPES[d.EVENT_START]=a[0],d.EVENT_TYPES[d.EVENT_MOVE]=a[1],d.EVENT_TYPES[d.EVENT_END]=a[2]},getTouchList:function(a){return d.HAS_POINTEREVENTS?d.PointerEvent.getTouchList():a.touches?a.touches:(a.identifier=1,[a])},collectEventData:function(a,b,c,e){var f=d.POINTER_TOUCH;return(e.type.match(/mouse/)||d.PointerEvent.matchType(d.POINTER_MOUSE,e))&&(f=d.POINTER_MOUSE),{center:d.utils.getCenter(c),timeStamp:(new Date).getTime(),target:e.target,touches:c,eventType:b,pointerType:f,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return d.detection.stopDetect()}}}},d.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return d.utils.each(a.pointers,function(a){b.push(a)}),b},updatePointer:function(a,b){return a==d.EVENT_END?this.pointers={}:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,e={};return e[d.POINTER_MOUSE]=c===b.MSPOINTER_TYPE_MOUSE||c===d.POINTER_MOUSE,e[d.POINTER_TOUCH]=c===b.MSPOINTER_TYPE_TOUCH||c===d.POINTER_TOUCH,e[d.POINTER_PEN]=c===b.MSPOINTER_TYPE_PEN||c===d.POINTER_PEN,e[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:d.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst.options;return d.utils.each(this.gestures,function(c){return this.stopped||b[c.name]===!1||c.handler.call(c,a,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=a),a.eventType==d.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=d.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;!b||a.touches.length==b.touches.length&&a.touches!==b.touches||(b.touches=[],d.utils.each(a.touches,function(a){b.touches.push(d.utils.extend({},a))}));var c,e,f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=d.utils.getVelocity(f,g,h);return"end"===a.eventType?(c=this.current.lastEvent&&this.current.lastEvent.interimAngle,e=this.current.lastEvent&&this.current.lastEvent.interimDirection):(c=this.current.lastEvent&&d.utils.getAngle(this.current.lastEvent.center,a.center),e=this.current.lastEvent&&d.utils.getDirection(this.current.lastEvent.center,a.center)),d.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:d.utils.getDistance(b.center,a.center),angle:d.utils.getAngle(b.center,a.center),interimAngle:c,direction:d.utils.getDirection(b.center,a.center),interimDirection:e,scale:d.utils.getScale(b.touches,a.touches),rotation:d.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),d.utils.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},d.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(b.options.drag_max_touches>0&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:if(a.distance<b.options.drag_min_distance&&d.detection.current.name!=this.name)return;if(d.detection.current.name!=this.name&&(d.detection.current.name=this.name,b.options.correct_for_drag_min_distance&&a.distance>0)){var c=Math.abs(b.options.drag_min_distance/a.distance);d.detection.current.startEvent.center.pageX+=a.deltaX*c,d.detection.current.startEvent.center.pageY+=a.deltaY*c,a=d.detection.extendEventData(a)}(d.detection.current.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)&&(a.drag_locked_to_axis=!0);var e=d.detection.current.lastEvent.direction;a.drag_locked_to_axis&&e!==a.direction&&(a.direction=d.utils.isVertical(e)?a.deltaY<0?d.DIRECTION_UP:d.DIRECTION_DOWN:a.deltaX<0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT),this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),b.trigger(this.name+a.direction,a),(b.options.drag_block_vertical&&d.utils.isVertical(a.direction)||b.options.drag_block_horizontal&&!d.utils.isVertical(a.direction))&&a.preventDefault();break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case d.EVENT_START:clearTimeout(this.timer),d.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==d.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case d.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case d.EVENT_END:clearTimeout(this.timer)}}},d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==d.EVENT_END&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==d.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length<b.options.swipe_min_touches&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},d.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==d.EVENT_END&&"touchcancel"!=a.srcEvent.type){var c=d.detection.previous,e=!1;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),e=!0),(!e||b.options.tap_always)&&(d.detection.current.name="tap",b.trigger(d.detection.current.name,a))}}},d.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){return b.options.prevent_mouseevents&&a.pointerType==d.POINTER_MOUSE?void a.stopDetect():(b.options.prevent_default&&a.preventDefault(),void(a.eventType==d.EVENT_START&&b.trigger(this.name,a)))}},d.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(a.touches.length<2))switch(b.options.transform_always_block&&a.preventDefault(),a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:var c=Math.abs(1-a.scale),e=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&e<b.options.transform_min_rotation)return;d.detection.current.name=this.name,this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),e>b.options.transform_min_rotation&&b.trigger("rotate",a),c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(a.scale<1?"in":"out"),a));break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("hammer",[],function(){return d}):"object"==typeof module&&"object"==typeof module.exports?module.exports=d:a.Hammer=d}(this),define("fw/Ajax",[],function(){return function(a,b,c){function d(b,d,f){"function"==typeof f&&(f={success:f});var g=f.error||function(a){console.log(a)},h=f.success||function(){},i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState){var b;if(i.status>=200&&i.status<300||304==i.status){try{var d=i.responseText;"application/json"==i.getResponseHeader(c)&&(d=JSON.parse(d))}catch(e){b=e}b?g.call(a,b,i):h.call(a,d,i)}else g.call(a,"Ajax failed",i)}};var j=e(f.params);"GET"==b&&j&&(d+=(d.indexOf("?")>=0?"&":"?")+j),i.open(b,d,!0),"POST"==b&&i.setRequestHeader(c,"application/x-www-form-urlencoded"),i.send(j?j:null)}function e(a){var c=[];for(var d in a){var e=a[d];if(e&&e.constructor==Array)for(var f in e)c[c.length]=b(d)+"="+b(e[f]);else c[c.length]=b(d)+"="+b(e)}return c.join("&").replace(" ","+")}return{get:function(a,b){d("GET",a,b||{})},post:function(a,b){d("POST",a,b||{})}}}(window,encodeURIComponent,"Content-Type")}),define("fw/Query",["hammer"],function(a){return function(b){function c(a,b){return/^\.([\w-]+)$/.test(b)&&a.getElementsByClassName?a.getElementsByClassName(RegExp.$1):/^#([\w-]*)$/.test(b)?(b=a.getElementById(RegExp.$1))?[b]:[]:/^[\w-]+$/.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b)}function d(a,b){return new RegExp("\\s+"+b+"\\s+").test(" "+a.className+" ")}function e(a){this.length=a.length,this.nodes=a}e.prototype={isQ:!0,find:function(a){var b=[];return this.each(function(d){for(var e=c(d,a),f=0;f<e.length;f++)b.push(e[f])}),new e(b)},get:function(a){return void 0==a?this.nodes:this.nodes[a]},on:function(c,d){var e=this,f=c.split(/\s*,\s*/);return e.each(function(c){for(var e=f[0],g=0;g<f.length;e=f[++g])"tap"!=e&&"hold"!=e||!b.addEventListener?b.addEventListener?c.addEventListener(e,d,!1):("tap"==e&&(e="click"),c.attachEvent("on"+e,function(a){a.preventDefault=function(){b.event.returnValue=!1},a.stopPropagation=function(){b.event.cancelBubble=!0},d.call(c,a)})):a(c,{drag:!1,swipe:!1,transform:!1}).on(e,function(){d.apply(c,arguments)})})},hasClass:function(a){var b=!1;return this.each(function(c){b||(b=d(c,a))}),b}};var f={each:function(a){a.call(this,this)},text:function(a){this.textContent=a},html:function(a){this.innerHTML=a},hide:function(){this.style.display="none"},show:function(){this.style.display=""},addClass:function(a){this.className+=" "+a},removeClass:function(a){this.className=(" "+this.className+" ").replace(new RegExp("\\s+("+a+"\\s+)+","g")," ").replace(/^\s+/,"").replace(/\s+$/,"")},toggleClass:function(a){d(this,a)?f.removeClass.call(this,a):f.addClass.call(this,a)},insertAfter:function(a){this.parentNode.insertBefore(a,this.nextSibling)}};for(var g in f)!function(a){e.prototype[a]=function(){for(var b=arguments,c=0;c<this.nodes.length;c++)f[a].apply(this.nodes[c],b);return this}}(g);return function(a){if(a||(a=[]),a.isQ)return a;if("string"==typeof a)a=c(document,a);else{var b=Object.prototype.toString.call(a);"[object Array]"!==b&&"[object NodeList]"!==b&&(a=[a])}return new e(a)}}(window)}),define("fw/ext/Cookie",[],function(){return function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=e[f].replace(/^\s+|\s+$/g,"");if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")}}),define(function(){var a=function(a){function b(a){for(m=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=/^loade|c/.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?m?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){m?a():d.push(a)}}();a(function(){define("domready",[],function(){})})});var _gaq=[["_setAccount","UA-270161-1"+(document.cookie&&-1!=document.cookie.indexOf("caelum-funcionario")?"6":"")],["_setDomainName",".caelum.com.br"],["_setSiteSpeedSampleRate",100],["_trackPageview"]];if(function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),define(["fw/Query","domready"],function(a){function b(b){for(var d=0;d<b.length;d++){var e=b[d];"dont-track"!=e.className&&0!==e.href.indexOf(c)&&a(e).on("click",function(){_gaq.push(["_trackPageview","/LinkExternoApostila/"+this.href])})}}if(document.querySelectorAll){var c=location.protocol+"//"+(location.hostname||location.host)+(document.location.port?":"+location.port:"")+"/";b(document.querySelectorAll('a[href^="http://"]')),b(document.querySelectorAll('a[href^="https://"]'))}}),define(["domready"],function(){if(document.querySelectorAll)for(var a=document.querySelectorAll("div.highlight"),b=0;b<a.length;b++){var c=a[b],d=c.querySelector("pre");if(0!=d.querySelectorAll(".lineno").length){var e=d.cloneNode(!0);e.className="linenoscol",d.className="maincode",c.appendChild(e)}}}),define(["fw/Query","domready"],function(a){a(".chapter-nav").on("change",function(){var a=this.value;void 0!==a&&""!==a&&"undefined"!==a&&(location.href=a)})}),define(["fw/Query","fw/Ajax","fw/ext/Cookie","domready"],function(a,b,c){function d(){try{var b=a(".offline-installation-progress").get(0);b.progress=void 0,b.className="offline-installation-progress",b.style.width=""}catch(c){}}function e(){c(h,"ok",{path:"/"+h+"/"})}function f(b){if(!b){var c=a(".offline-installation-progress").get(0).progress||0;b=c+1,b>=80&&(b=80)}5>b&&(b=5),a(".offline-installation-progress").get(0).style.width=b+"%",a(".offline-installation-progress").get(0).progress=b,b>=100&&(a(".offline-installation-progress").addClass("ok"),a(".offline-installation-progress").get(0).style.width="")}function g(){b.get("/"+h+"/offline/_last_version",function(a){console.log("New installed version: "+a),localStorage.setItem(h,a)}),a(top.document.documentElement).removeClass("offline-not-installed").removeClass("offline-update-available").addClass("offline-installed")}if(!window.applicationCache)return console.log("AppCache not supported"),a(document.documentElement).addClass("no-appcache"),void _gaq.push(["_trackEvent","Apostilas offline","Não suportado",navigator.userAgent,0,!0]);a(document.documentElement).addClass("appcache");var h=location.pathname.replace(/\/([^\/]+)\/.*/,"$1");a(".offline-install-button, .offline-update-button").on("click",function(){console.log("Initiating installation"),d(),c(h,"update",{expires:7,path:"/"+h+"/"}),a(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),_gaq.push(["_trackEvent","Apostilas offline","Instalação",h])}),a(".offline-remove-button").on("click",function(){console.log("Removing installation"),d(),c(h,"remove",{expires:7,path:"/"+h+"/"}),a(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),_gaq.push(["_trackEvent","Apostilas offline","Desinstalação",h])});var i=localStorage.getItem(h);i?(console.log("Cached version: "+i),a(document.documentElement).addClass("offline-installed"),_gaq.push(["_trackEvent","Apostilas offline","Versão instalada",i])):a(document.documentElement).addClass("offline-not-installed"),i&&b.get("/"+h+"/offline/_last_version",function(b){console.log("Server version: "+b),b!==i&&a(document.documentElement).addClass("offline-update-available")}),window._offline=[],_offline.cached=_offline.updateready=_offline.noupdate=function(){g(),f(100),e()},_offline.error=function(){console.log("AppCache: error."),localStorage.removeItem(h),a(".offline-installation-progress").addClass("error"),_gaq.push(["_trackEvent","Apostilas offline","Error",h])},_offline.obsolete=function(){console.log("AppCache: obsolete."),localStorage.removeItem(h),f(100),a(".offline-installation-progress").addClass("removed"),a(top.document.documentElement).removeClass("offline-installed").removeClass("offline-update-available").addClass("offline-not-installed")},_offline.progress=function(a){a.loaded&&a.total?f(100*a.loaded/a.total):f()}}),define(["fw/Query","domready"],function(a){if(a(".lista-apostilas-offline").length)for(var b=0;b<localStorage.length;b++){var c=localStorage.key(b);if(0==c.indexOf("apostila-")){var d=nomes[c]||c,e=document.createElement("li");e.innerHTML='<a href="/'+c+'/">'+d+"</a>",a(".lista-apostilas-offline").get(0).appendChild(e)}}}),"standalone"in window.navigator&&window.navigator.standalone){var apostila_slug=location.pathname.replace(/\/([^\/]+)\/.*/,"$1"),appversion=localStorage.getItem(apostila_slug),is_installed=!!appversion;if(define(["fw/Query","fw/ext/Cookie","domready"],function(a,b){is_installed||(a(".offline").length?(b(apostila_slug,"update",{expires:7,path:"/"+apostila_slug+"/"}),a(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),localStorage.setItem("page","/"+apostila_slug+"/"),_gaq.push(["_trackEvent","Apostilas offline","Instalação iOS Web App",apostila_slug])):location.href="/"+apostila_slug+"/offline/")}),is_installed){var page=localStorage.getItem("page");page?page!==location.pathname+location.hash&&(location.href=page):localStorage.setItem("page",location.pathname+location.hash)}document.documentElement.style.display="block",document.addEventListener("click",function(a){for(var b=a.target;"A"!==b.nodeName&&"HTML"!==b.nodeName;)b=b.parentNode;var c=b.getAttribute("href");c&&(0==c.indexOf("/"+apostila_slug)||-1===c.indexOf("http:")&&0!==c.indexOf("/"))&&(a.preventDefault(),document.location.href=c,localStorage.removeItem("page"))},!1),define(["fw/Query","domready"],function(a){a(".chapter-nav").on("change",function(){localStorage.removeItem("page")})})}var iOS=navigator.userAgent.match(/iP(ad|hone|od)/i);iOS&&(document.documentElement.className+=" ios"),define(["fw/Query","domready"],function(a){{var b=a(".config").get(0),c=a(".config .icone").get(0);a(".config .submenu").get(0)}a(c).on("tap",function(){a(b).toggleClass("ativo")}),a(window).on("click",function(d){d.target!==c&&d.target.tagName&&"INPUT"!==d.target.tagName&&"SELECT"!==d.target.tagName&&a(b).removeClass("ativo")}),a(".form-action").on("click",function(){this.parentNode.submit()})}),define(["fw/Query","domready"],function(a){var b=14,c=a(".barra-topo .sombra").get(0);c&&window.scrollY&&(c.style.top="-"+b+"px",a(window).on("scroll, resize, rotationchange",function(){var a=b-window.scrollY/6;0>a?a=0:a>b&&(a=b),a="-"+a+"px",c.style.top!=a&&(c.style.top=a)}))}),define(["fw/Query","domready"],function(a){function b(b,c){var d=void 0;a(window).on("scroll, resize, rotationchange",function(){d&&clearTimeout(d),d=setTimeout(b,c)})}if("history"in window&&"replaceState"in window.history){var c=document.querySelectorAll(".section");0!=c.length&&b(function(){for(var a=Math.floor(window.scrollY+window.innerHeight/2),b=void 0,d=0;d<c.length&&!(c[d].offsetTop>a);d++)b=c[d];if(void 0!==b){var e=b.getAttribute("data-section");e!==location.hash.replace("#","")&&history.replaceState({scroll:!0},"","#"+e)}else""!==location.hash.replace("#","")&&location.pathname&&history.replaceState({scroll:!0},"",location.pathname)},200)}});
